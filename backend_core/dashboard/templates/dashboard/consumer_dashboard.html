{% extends "dashboard_base.html" %}
{% load staticfiles %}
{% load i18n %}

{% block metainfo %}

{% endblock %}
{% block nav-sidebar %}

{% endblock %}

{% block nav-topbar %}

{% endblock %}

{% block content %}
    <nav class="navbar navbar-default no-margin">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header fixed-brand">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" id="menu-toggle">
                <span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
            </button>
            <a class="navbar-brand" href="/"><span class="logo cursive">Hoome</span></a>
        </div>
        <!-- navbar-header-->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="active">
                    <button class="navbar-toggle collapse in" data-toggle="collapse" id="menu-toggle-2"><span
                            class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
                    </button>
                </li>
            </ul>
        </div>
        <!-- bs-example-navbar-collapse-1 -->
    </nav>
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav nav-pills nav-stacked" id="menu">
                <li class="">
                    <a href="#" id="profile"><span class="fa-stack fa-lg pull-left"><i
                            class="fa fa-dashboard fa-stack-1x "></i></span>{% trans 'Profile' %} </a>
                </li>
                <li>
                    <a href="#" id="email"><span class="fa-stack fa-lg pull-left"><i
                            class="fa fa-flag fa-stack-1x "></i></span>{% trans "Email" %}</a>
                </li>
                <li>
                    <a href="#" id="password"><span class="fa-stack fa-lg pull-left"><i
                            class="fa fa-cloud-download fa-stack-1x "></i></span>{% trans 'Password' %}</a>
                </li>

            </ul>
            <a href="/logout" class="logout-button"><em class="fa fa-power-off"></em> {%  trans 'Sign Out' %}</a>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->

        <div id="page-content-wrapper">
            <iframe name="content" src="" id="content-iframe" scrolling="no" noresize frameborder="0" marginwidth="0"
                    marginheight="0"></iframe>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery -->

    <script>
        $('#content-iframe').attr('src', "{% url 'account_consumer_profile' %}");
        $(function () {
            $('#profile').click(function () {
                $('#content-iframe').attr('src', "{% url 'account_consumer_profile' %}");
            });

            $('#email').click(function () {
                $('#content-iframe').attr('src', "{% url 'account_email' %}");
            });

            $('#password').click(function () {
                $('#content-iframe').attr('src', "{% url 'account_change_password' %}");
            });
        })


        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
        $("#menu-toggle-2").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled-2");
            $('#menu ul').hide();
        });

        function initMenu() {
            $('#menu ul').hide();
            $('#menu ul').children('.current').parent().show();
            //$('#menu ul:first').show();
            $('#menu li a').click(
                function () {
                    var checkElement = $(this).next();
                    if ((checkElement.is('ul')) && (checkElement.is(':visible'))) {
                        return false;
                    }
                    if ((checkElement.is('ul')) && (!checkElement.is(':visible'))) {
                        $('#menu ul:visible').slideUp('normal');
                        checkElement.slideDown('normal');
                        return false;
                    }
                }
            );
        }

        $(document).ready(function () {
            initMenu();
        });

    </script>
{% endblock %}