{% extends "base.html" %}
{% load i18n %}
{% load staticfiles %}

{% load account socialaccount %}
{% block metainfo %}
    <style>
        .header {
            background-color: #6892D5;
        }

        .header .navbar .logo.cursive {
            color: #ffffff;
        }

        .footer {
            position: relative;
        }

        .signup-wrapper {
            padding: 30px;
            overflow: hidden;
            min-height: 80%;
            text-align: center;
        }

        .login-wrapper {
            padding: 30px;
            overflow: hidden;
            min-height: 80%;
            text-align: center;
        }

        .socialaccount_providers {
            list-style-type: None;
        }

        .login {
            margin-top: 114px;
            max-width: 300px;
            margin: auto
        }


        .height-30{
            height: 30px;
        }


        .text-right {
            text-align: right;
        }

        .full-width {
            width: 100%;
        }

        .btn-hoome {
            color: white;
            border-color: #6892D5;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
            background-color: #6892D5;
            background: linear-gradient(#6892D4, #6892D6);
        }

        .picture-container {
            padding-bottom: 12px;
            margin-top: 80px;
            text-align: center;
        }

        .picture-container img {
            width: 386px;
            vertical-align: middle;
        }

        @media (min-width: 1024px) {
            .row {
                width: 960px;
                margin-left: auto;
                margin-right: auto;
            }
        }

        @media (max-width: 1023px) {
            .login-pic {
                display: none;
            }
        }

    </style>
    <link rel="stylesheet" href="{% static 'css/bootstrap-social.css' %}">
{% endblock %}


{% block content %}



    <div class="container header-gap">
        <div class="row">
            <div class="col-md-6">
                <div class="login-wrapper ">
                    <div class="login">
                        <h1>{% trans "Sign Up for Hoome" %}</h1>
                        <p>{% blocktrans %}
                            By signing up, you agree to Hoome’s {% endblocktrans %}<a
                                href="/rule/service">{% trans 'Terms of Service' %}</a> {% trans 'and' %} <a
                                href="/rule/privacy">{% trans 'Privacy Policy' %}</a>.
                        </p>

                        <br/>
                        {% get_providers as socialaccount_providers %}
                        {% if socialaccount_providers %}
                            <div class="socialaccount_ballot">
                                <ul class="socialaccount_providers">
                                    {% for provider in socialaccount_providers %}
                                        {% if provider.id == "openid" %}
                                            {% for brand in provider.get_brands %}
                                                <li>
                                                    <a title="{{ brand.name }}"
                                                       class="socialaccount_provider {{ provider.id }} {{ brand.id }} btn btn-social btn-{{ provider.name|lower }} full-width"
                                                       href="{% provider_login_url provider.id openid=brand.openid_url process=process %}">
                                                        <span class="fa fa-{{ provider.name|lower }}"></span>
                                                        <span style="font-weight:900">Sign up with {{ provider.name }}</span>
                                                    </a>
                                                </li>
                                            {% endfor %}
                                        {% endif %}
                                        <li>
                                            <a title="{{ provider.name }}"
                                               class="socialaccount_provider {{ provider.id }} btn btn-social btn-{{ provider.name|lower }} full-width"
                                               href="{% provider_login_url provider.id process=process scope=scope auth_params=auth_params %}">
                                                <span class="fa fa-{{ provider.name|lower }}"></span>
                                                <div style="display: flex; justify-content: center; font-weight:900;">
                                                    Sign in with {{ provider.name }}
                                                </div>
                                            </a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>

                            {% include "socialaccount/snippets/login_extra.html" %}
                        {% else %}
                            <p>{% blocktrans %}If you have not created an account yet, then please{% endblocktrans %}
                                <a href="{{ signup_url }}">{% trans "sign up" %}</a> {% trans "first." %}</p>
                        {% endif %}

                        <br/>
                        <p class="hr-line"><span>{% trans 'OR' %}</span></p>
                        <br/>


                        <form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
                            {% csrf_token %}
                            {#                            TODO: make username = email. show username or email only. need to overwrite view function#}
                            <p><input class='full-width height-30' type="email" name="email" required="" placeholder="Email"
                                      id="id_email">
                            </p>
                            <p><input class='full-width height-30' type="text" name="username" maxlength="150" minlength="1"
                                      autofocus="autofocus" required=""
                                      placeholder="Username"
                                      id="id_username"></p>
                            {#                            TODO: make Role to be option with pic after signing up #}
                            <p><label for="id_role">Role:</label> <select class='full-width' name="role" required=""
                                                                          multiple="multiple"
                                                                          id="id_role">
                                <option value="PROFESSIONAL">Professional</option>
                                <option value="CONSUMER">Consumer</option>
                            </select></p>
                            <p><input class='full-width height-30' type="password" name="password1" required=""
                                      placeholder="Password" id="id_password1"></p>
                            <p><input class='full-width height-30' type="password" name="password2" required=""
                                      placeholder="Password (again)" id="id_password2"></p>
                            <input class='full-width height-30' type="hidden" name="{{ redirect_field_name }}" value="{% url 'account_signup_complete_info' %}">
                            <button class='btn btn-hoome full-width' type="submit">Sign Up »</button>
                        </form>
                        <br/>
                        <div class="text-right">{% trans 'Already on Hoome?' %}<a
                                href="{% url 'account_login' %}"> {% trans 'Log in' %} </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="picture-container">
                    <img class="login-pic" src="{% static 'image/icon/log-in.svg' %}">
                </div>
            </div>
        </div>
    </div>



{% endblock %}